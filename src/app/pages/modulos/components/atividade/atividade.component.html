<div class="header-atividade">
  <span class="title">Atividade</span>
  <img
    (click)="atividadeClick.emit()"
    src="assets/icons/close.svg"
    alt="Icone para ir para a atividade da unidade"
    width="30px"
    height="30px"
  />
</div>

<div class="container-atividade" *ngIf="bloqueio[idTopico]?.UsuarioTopicos[0].encerrado == false; else elseAtividade">
  <div *ngIf="questao">
    <h3>{{ questao.questao }}</h3>
    <div *ngFor="let alternativa of questao.Alternativas; let i = index">
      <div
        class="alternativas"
        [ngClass]="{'resposta-errada': resposta === alternativa.descricao && questao['respostaCorreta'] != resposta}"
        (click)="!respostaEnviada && responder(alternativa.descricao)"
      >
        <img [src]="caminhoImagem + i + '.png'" alt="Alternativa da questão" />
        <div class="container-alternativa">
          {{ alternativa.descricao }}
          <div class="respostaCerta" *ngIf="resposta === alternativa.descricao">
            Explicação: {{ resposta ? getExplicacao(resposta) : '' }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <button (click)="refazer()">Refazer</button>
</div>

<ng-template #elseAtividade>
  <div class="container-atividade" >
    <div *ngIf="questao">
      <h3>{{ questao.questao }}</h3>
      <div *ngFor="let alternativa of questao.Alternativas; let i = index">
        <div
          class="alternativas"
          [ngClass]="{'resposta-errada': resposta === alternativa.descricao && questao['respostaCorreta'] != resposta,
          'resposta-correta': resposta === alternativa.descricao && questao['respostaCorreta'] == resposta}"
          (click)="responderAlternativo(alternativa.descricao)"
        >
          <img [src]="caminhoImagem + i + '.png'" alt="Alternativa da questão" />
          <div class="container-alternativa">
            {{ alternativa.descricao }}
            <div class="respostaCerta" *ngIf="resposta === alternativa.descricao">
              Explicação: {{ resposta ? getExplicacao(resposta) : '' }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

